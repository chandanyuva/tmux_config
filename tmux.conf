# The hierarchy goes like this: Server > Session > window > pane.

# Creating a New Session : tmux

# Named Session : tmux new -s SESSION_NAME

# Attaching a Session 
#   (outside tmux run) $ tmux ls \\to list running sessions
#   (then with the name of the session run) $ tmux attach -t SESSION_NAME 

# Detaching a Session 
#   Prefix + d

# (inside tmux) To see a list of sessions and travel between sessions 
#   Prefix + s

# Killing a Session
# There are two ways to kill a session:
#   1.Run the terminal command to kill a session : tmux kill-session -t SESSION_NAME
#   2.Close all the windows until there is no more : (to close a pane) Prefix + x | Ctrl + d  

# Creating a New Window
#   $ tmux new-window -n WINDOW_NAME | $ tmux neww -n WINDOW_NAME (neww is the same as new-window)
# insted of the above cmd use below keybind to create a new unnamed window and then rename it
#   Prefix + c

# Renaming Windows
#   Prefix + ,

# Switching Windows
#   go to the next window : Prefix + n
#   go to the previous window : Prefix + p
#   go to window number N : Prefix + N
#   To quickly jump to double window digits (like 11) : Prefix + ' + N

# quickly list and switch to any window in any session
#   Prefix + w
# When you do Prefix + w, tmux lists all the windows inside all the sessions you have (even the windows from detached sessions).

# Deleting Windows
# There are two ways to kill a window:
#   1.kill the window with a terminal command : 
#     kills the current window you're in : $ tmux kill-window
#     to kill a different window, you can pass a target option to the command -t : tmux kill-window -t WINDOW_NAME | tmux killw -t WINDOW_NAME
#   2.kill all panes inside a window : Prefix + x | Ctrl + d

# Creating a New Pane
#   To split a window horizontally: (cmd) tmux split-window -h | (keybind) Prefix + %
#   To split it window vertically: (cmd) tmux split-window -v | (keybing) Prefix + "

# Deleting a Pane
#   Prefix + x | Ctrl + d

# Navigate Between Panes
#   To switch to the "next" pane : Prefix + o
#   You can also move directionally with
#     Prefix + Up
#     Prefix + Down
#     Prefix + Left
#     Prefix + Right

# Display all the pane numbers of the current window for you to select from
#   Prefix + q + N
#   You should see numbers displayed in the foreground center of each pane. If you type a particular number[N], tmux will focus on that pane number.
# alternat way 
#   tmux display-panes
#   tmux select-pane -t N

# Resize a Pane
# tmux resize-pane -D 10 | prefix + ctrl+Down
# tmux resize-pane -U 10 | prefix + ctrl+Down
# tmux resize-pane -L 10 | prefix + ctrl+Down
# tmux resize-pane -R 10 | prefix + ctrl+Down

# Zoom a Pane
#   Prefix + z (use same to go back to normal)

# Swapping Panes
#   Prefix + {
#   Prefix + }
# Rotate the pane positions
#   Prefix + Ctrl + o

# Tmux Layouts
#   Tmux comes with 5 different layouts:
#     even-horizontal  : split horizontally evenly
#     even-vertical    : split vertically evenly
#     main-horizontal  : split vertically with the "main" pane taking up more space
#     main-vertical    : split horizontally with the "main" pane taking up more space
#     tiled            : tmux window is split equally
#   Toggle tmux layouts with a keyboard shortcut
#     Prefix + Space

# Tmux servers

# NOTE: SERVERS ARE NOT SESSIONS!!!
# By now, you should have a good idea what tmux can do. You should also understand how sessions, windows, and panes relate (otherwise, stop and review the last three sections). There is one more missing piece: tmux servers. Although you can do fine merely knowing about sessions, windows, and panes without knowing about tmux servers, it is good to know the whole picture to have a more accurate mental model. Understanding tmux server will explain why some commands, like tmux kill-server, exist (to kill the server, duh!)
# When we run the command tmux, tmux not only creates a new session, but it also creates a new server instance. This whole ecosystem that you have been interacting with - you can think of it like the client in client-server interaction. If it is like a client-server interaction, then there must be a tmux server somewhere. Tmux server is what runs in the background while Tmux client runs in the foreground.
# When we create multiple sessions: tmux new -s breakfast, tmux new -s lunch, and tmux new -s dinner, those three are connected to the same tmux server. Since we don't mention a server name, these sessions are connected to a default server.

# To launch a named server
#   tmux -L SERVER_NAME
#   Running this command also launches a new session by default

# Reconnect to the named server (after detaching)
#   tmux -L SERVER_NAME attach

# To create a new NAMED session inside the NAMED server
#   tmux -L SERVER_NAME new -s SESSION_NAME

# View all the sessions in the NAMED server
#   tmux -L SERVER_NAME ls
# whereas "tmux ls" list only the sessions in the default server 

# To kill the NAMED server
#   tmux -L SERVER_NAME kill-server 
# To kill Default server
#   tmux kill-server

# NOTE: If you run tmux kill-server when nothing is running, you'll see:
# no server running on /private/tmp/tmux-501/default
# Your exact path might be different from what I have, but the important ideas are:
# The command kill-server is looking in the tmp/ directory, which is usually where linux sockets are. Wait, did you say socket? That sounds like a client-server interaction!
# The directory is named "default" because we tried to kill the default server. By the way, if you created multiple servers, you'll find all those server names stored in here. So if you created a food server, you would find /food in there too.



# NOTE: Improve colors
set -g default-terminal 'screen-256color'
# make colors inside tmux look the same as outside of tmux
# see https://github.com/tmux/tmux/issues/696
# see https://stackoverflow.com/a/41786092
set-option -ga terminal-overrides ",xterm-256color:Tc"


# NOTE: Set scrollback buffer to 10000
set -g history-limit 10000

# NOTE: Customize the status line
set -g status-fg  green
set -g status-bg  black

# NOTE: change default prefix bind
unbind C-`
set -g prefix C-Space
bind C-` send-prefix

bind-key r source-file ~/.config/tmux/tmux.conf \; display-message "Tmux config reloaded!"


